<project name="Generates DOM AST Scanner for PHP 5" default="generateScanner" basedir=".">

	<import file="../../jflex/build.xml" />
	
	<target name="checkUpToDate">
		<uptodate
			property="upToDate"
			srcfile="ast_scanner.flex"
			targetfile="../../../../src/org/eclipse/php/internal/core/ast/scanner/php5/PhpAstLexer.java" />
	</target>

	<target name="generateScanner" depends="checkUpToDate, getJFlexJar" unless="upToDate">
		<java jar="${jflexJar}" fork="true">
			<arg value="-d" />
			<arg value="../../../../src/org/eclipse/php/internal/core/ast/scanner/php5" />
			<arg value="-nobak" />
			<arg value="ast_scanner.flex" />
		</java>
	</target>

</project>