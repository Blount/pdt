<project default="generateParser">

	<target name="generateParser">
		<java 
			jar="../../javacup/java-cup-10k.jar"
			input="php_compiler_ast_parser.cup"
			fork="true">
			
			<arg value="-compact_red"/>
			<arg value="-expect"/>
			<arg value="4"/>
			<arg value="-parser"/>
			<arg value="PhpAstParser4"/>
			<arg value="-symbols"/>
			<arg value="ParserConstants4"/>
			<arg value="-interface"/>
		</java>

		
		<replace
			file="PhpAstParser4.java"
			token="extends java_cup.runtime.lr_parser"
			value="extends AbstractASTParser"/>

		<move
			file="PhpAstParser4.java"
			todir="../../../../src/org/eclipse/php/internal/core/compiler/ast/parser"/>

		<move
			file="ParserConstants4.java"
			todir="../../../../src/org/eclipse/php/internal/core/compiler/ast/parser"/>

	</target>



</project>
