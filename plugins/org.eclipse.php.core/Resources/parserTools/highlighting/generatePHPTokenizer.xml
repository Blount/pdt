<project default="generateScanner">
	
	<import file="../jflex/build.xml" />

	<target name="checkUpToDate">
		<uptodate
			property="upToDate"
			srcfile="PHPTokenizer.jflex"
			targetfile="../../../src/org/eclipse/php/internal/core/documentModel/parser/PHPTokenizer.java" />
	</target>

	<target name="generateScanner" depends="checkUpToDate,getJFlexJar" unless="upToDate">
		<java jar="${jflexJar}" fork="true">
			<arg value="-d" />
			<arg value="../../../src/org/eclipse/php/internal/core/documentModel/parser" />
			<arg value="-skel" />
			<arg value="skeleton.sse" />
			<arg value="PHPTokenizer.jflex" />
		</java>
		
		<delete file="../../../src/org/eclipse/php/internal/core/documentModel/parser/PHPTokenizer.java~" />
	</target>
</project>
