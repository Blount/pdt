--TEST--
Bug 551301 - PHP 7.4 Support
--FILE--
<?php
$parts = [
    'apple',
    'pear'
];
$fruits = [
    'banana',
    'orange',
    ...$parts,
    'watermelon'
];

$arr1 = [
    1,
    2,
    3
];
$arr2 = [
    ...$arr1
]; //[1, 2, 3]
$arr3 = [
    0,
    ...$arr1
]; //[0, 1, 2, 3]
$arr4 = array(
    ...$arr1,
    ...$arr2,
    111
); //[1, 2, 3, 1, 2, 3, 111]
$arr5 = [
    ...$arr1,
    ...$arr1
];

//[1, 2, 3, 1, 2, 3]
function getArr()
{
    return [
        'a',
        'b'
    ];
}
$arr6 = [
    ...getArr(),
    'c'
]; //['a', 'b', 'c']

$arr7 = [
    ...new ArrayIterator([
        'a',
        'b',
        'c'
    ])
];

//['a', 'b', 'c']
function arrGen()
{
    for ($i = 11; $i < 15; $i ++) {
        yield $i;
    }
}
$arr8 = [
    ...arrGen()
]; //[11, 12, 13, 14]
?>
--EXPECT--
PHP_TOKEN|<|2
PHP_TOKEN|?|2
PHP_LABEL|php|2
WHITESPACE|
|2
PHP_VARIABLE|$parts|2
WHITESPACE| |2
PHP_TOKEN|=|2
WHITESPACE| |2
PHP_TOKEN|[|2
WHITESPACE|
    |2
PHP_CONSTANT_ENCAPSED_STRING|'apple'|2
PHP_TOKEN|,|2
WHITESPACE|
    |2
PHP_CONSTANT_ENCAPSED_STRING|'pear'|2
WHITESPACE|
|2
PHP_TOKEN|]|2
PHP_SEMICOLON|;|2
WHITESPACE|
|2
PHP_VARIABLE|$fruits|2
WHITESPACE| |2
PHP_TOKEN|=|2
WHITESPACE| |2
PHP_TOKEN|[|2
WHITESPACE|
    |2
PHP_CONSTANT_ENCAPSED_STRING|'banana'|2
PHP_TOKEN|,|2
WHITESPACE|
    |2
PHP_CONSTANT_ENCAPSED_STRING|'orange'|2
PHP_TOKEN|,|2
WHITESPACE|
    |2
PHP_TOKEN|.|2
PHP_TOKEN|.|2
PHP_TOKEN|.|2
PHP_VARIABLE|$parts|2
PHP_TOKEN|,|2
WHITESPACE|
    |2
PHP_CONSTANT_ENCAPSED_STRING|'watermelon'|2
WHITESPACE|
|2
PHP_TOKEN|]|2
PHP_SEMICOLON|;|2
WHITESPACE|
|2
PHP_VARIABLE|$arr1|2
WHITESPACE| |2
PHP_TOKEN|=|2
WHITESPACE| |2
PHP_TOKEN|[|2
WHITESPACE|
    |2
PHP_NUMBER|1|2
PHP_TOKEN|,|2
WHITESPACE|
    |2
PHP_NUMBER|2|2
PHP_TOKEN|,|2
WHITESPACE|
    |2
PHP_NUMBER|3|2
WHITESPACE|
|2
PHP_TOKEN|]|2
PHP_SEMICOLON|;|2
WHITESPACE|
|2
PHP_VARIABLE|$arr2|2
WHITESPACE| |2
PHP_TOKEN|=|2
WHITESPACE| |2
PHP_TOKEN|[|2
WHITESPACE|
    |2
PHP_TOKEN|.|2
PHP_TOKEN|.|2
PHP_TOKEN|.|2
PHP_VARIABLE|$arr1|2
WHITESPACE|
|2
PHP_TOKEN|]|2
PHP_SEMICOLON|;|2
WHITESPACE| |2
PHP_LINE_COMMENT|//|30
PHP_LINE_COMMENT|[1, 2, 3]
|2
PHP_VARIABLE|$arr3|2
WHITESPACE| |2
PHP_TOKEN|=|2
WHITESPACE| |2
PHP_TOKEN|[|2
WHITESPACE|
    |2
PHP_NUMBER|0|2
PHP_TOKEN|,|2
WHITESPACE|
    |2
PHP_TOKEN|.|2
PHP_TOKEN|.|2
PHP_TOKEN|.|2
PHP_VARIABLE|$arr1|2
WHITESPACE|
|2
PHP_TOKEN|]|2
PHP_SEMICOLON|;|2
WHITESPACE| |2
PHP_LINE_COMMENT|//|30
PHP_LINE_COMMENT|[0, 1, 2, 3]
|2
PHP_VARIABLE|$arr4|2
WHITESPACE| |2
PHP_TOKEN|=|2
WHITESPACE| |2
PHP_ARRAY|array|2
PHP_TOKEN|(|2
WHITESPACE|
    |2
PHP_TOKEN|.|2
PHP_TOKEN|.|2
PHP_TOKEN|.|2
PHP_VARIABLE|$arr1|2
PHP_TOKEN|,|2
WHITESPACE|
    |2
PHP_TOKEN|.|2
PHP_TOKEN|.|2
PHP_TOKEN|.|2
PHP_VARIABLE|$arr2|2
PHP_TOKEN|,|2
WHITESPACE|
    |2
PHP_NUMBER|111|2
WHITESPACE|
|2
PHP_TOKEN|)|2
PHP_SEMICOLON|;|2
WHITESPACE| |2
PHP_LINE_COMMENT|//|30
PHP_LINE_COMMENT|[1, 2, 3, 1, 2, 3, 111]
|2
PHP_VARIABLE|$arr5|2
WHITESPACE| |2
PHP_TOKEN|=|2
WHITESPACE| |2
PHP_TOKEN|[|2
WHITESPACE|
    |2
PHP_TOKEN|.|2
PHP_TOKEN|.|2
PHP_TOKEN|.|2
PHP_VARIABLE|$arr1|2
PHP_TOKEN|,|2
WHITESPACE|
    |2
PHP_TOKEN|.|2
PHP_TOKEN|.|2
PHP_TOKEN|.|2
PHP_VARIABLE|$arr1|2
WHITESPACE|
|2
PHP_TOKEN|]|2
PHP_SEMICOLON|;|2
WHITESPACE|
|2
PHP_LINE_COMMENT|//|30
PHP_LINE_COMMENT|[1, 2, 3, 1, 2, 3]
|2
PHP_FUNCTION|function|36
WHITESPACE| |36
PHP_LABEL|getArr|2
PHP_TOKEN|(|2
PHP_TOKEN|)|2
WHITESPACE|
|2
PHP_CURLY_OPEN|{
    |2
PHP_RETURN|return|2
WHITESPACE| |2
PHP_TOKEN|[|2
WHITESPACE|
        |2
PHP_CONSTANT_ENCAPSED_STRING|'a'|2
PHP_TOKEN|,|2
WHITESPACE|
        |2
PHP_CONSTANT_ENCAPSED_STRING|'b'|2
WHITESPACE|
    |2
PHP_TOKEN|]|2
PHP_SEMICOLON|;|2
WHITESPACE|
|2
PHP_CURLY_CLOSE|}
|2
PHP_VARIABLE|$arr6|2
WHITESPACE| |2
PHP_TOKEN|=|2
WHITESPACE| |2
PHP_TOKEN|[|2
WHITESPACE|
    |2
PHP_TOKEN|.|2
PHP_TOKEN|.|2
PHP_TOKEN|.|2
PHP_LABEL|getArr|2
PHP_TOKEN|(|2
PHP_TOKEN|)|2
PHP_TOKEN|,|2
WHITESPACE|
    |2
PHP_CONSTANT_ENCAPSED_STRING|'c'|2
WHITESPACE|
|2
PHP_TOKEN|]|2
PHP_SEMICOLON|;|2
WHITESPACE| |2
PHP_LINE_COMMENT|//|30
PHP_LINE_COMMENT|['a', 'b', 'c']
|2
WHITESPACE|
|2
PHP_VARIABLE|$arr7|2
WHITESPACE| |2
PHP_TOKEN|=|2
WHITESPACE| |2
PHP_TOKEN|[|2
WHITESPACE|
    |2
PHP_TOKEN|.|2
PHP_TOKEN|.|2
PHP_TOKEN|.|2
PHP_NEW|new|2
WHITESPACE| |2
PHP_LABEL|ArrayIterator|2
PHP_TOKEN|(|2
PHP_TOKEN|[|2
WHITESPACE|
        |2
PHP_CONSTANT_ENCAPSED_STRING|'a'|2
PHP_TOKEN|,|2
WHITESPACE|
        |2
PHP_CONSTANT_ENCAPSED_STRING|'b'|2
PHP_TOKEN|,|2
WHITESPACE|
        |2
PHP_CONSTANT_ENCAPSED_STRING|'c'|2
WHITESPACE|
    |2
PHP_TOKEN|]|2
PHP_TOKEN|)|2
WHITESPACE|
|2
PHP_TOKEN|]|2
PHP_SEMICOLON|;|2
WHITESPACE|
|2
PHP_LINE_COMMENT|//|30
PHP_LINE_COMMENT|['a', 'b', 'c']
|2
PHP_FUNCTION|function|36
WHITESPACE| |36
PHP_LABEL|arrGen|2
PHP_TOKEN|(|2
PHP_TOKEN|)|2
WHITESPACE|
|2
PHP_CURLY_OPEN|{
    |2
PHP_FOR|for|2
WHITESPACE| |2
PHP_TOKEN|(|2
PHP_VARIABLE|$i|2
WHITESPACE| |2
PHP_TOKEN|=|2
WHITESPACE| |2
PHP_NUMBER|11|2
PHP_SEMICOLON|;|2
WHITESPACE| |2
PHP_VARIABLE|$i|2
WHITESPACE| |2
PHP_TOKEN|<|2
WHITESPACE| |2
PHP_NUMBER|15|2
PHP_SEMICOLON|;|2
WHITESPACE| |2
PHP_VARIABLE|$i|2
WHITESPACE| |2
PHP_OPERATOR|++|2
PHP_TOKEN|)|2
WHITESPACE| |2
PHP_CURLY_OPEN|{
        |2
PHP_YIELD|yield|2
WHITESPACE| |2
PHP_VARIABLE|$i|2
PHP_SEMICOLON|;|2
WHITESPACE|
    |2
PHP_CURLY_CLOSE|}
|2
PHP_CURLY_CLOSE|}
|2
PHP_VARIABLE|$arr8|2
WHITESPACE| |2
PHP_TOKEN|=|2
WHITESPACE| |2
PHP_TOKEN|[|2
WHITESPACE|
    |2
PHP_TOKEN|.|2
PHP_TOKEN|.|2
PHP_TOKEN|.|2
PHP_LABEL|arrGen|2
PHP_TOKEN|(|2
PHP_TOKEN|)|2
WHITESPACE|
|2
PHP_TOKEN|]|2
PHP_SEMICOLON|;|2
WHITESPACE| |2
PHP_LINE_COMMENT|//|30
PHP_LINE_COMMENT|[11, 12, 13, 14]
|2
PHP_CLOSETAG|?>|2
