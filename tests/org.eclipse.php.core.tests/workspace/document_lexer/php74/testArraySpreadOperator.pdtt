--TEST--
Bug 551301 - PHP 7.4 Support
--FILE--
<?php
$parts = [
    'apple',
    'pear'
];
$fruits = [
    'banana',
    'orange',
    ...$parts,
    'watermelon'
];

$arr1 = [
    1,
    2,
    3
];
$arr2 = [
    ...$arr1
]; //[1, 2, 3]
$arr3 = [
    0,
    ...$arr1
]; //[0, 1, 2, 3]
$arr4 = array(
    ...$arr1,
    ...$arr2,
    111
); //[1, 2, 3, 1, 2, 3, 111]
$arr5 = [
    ...$arr1,
    ...$arr1
];

//[1, 2, 3, 1, 2, 3]
function getArr()
{
    return [
        'a',
        'b'
    ];
}
$arr6 = [
    ...getArr(),
    'c'
]; //['a', 'b', 'c']

$arr7 = [
    ...new ArrayIterator([
        'a',
        'b',
        'c'
    ])
];

//['a', 'b', 'c']
function arrGen()
{
    for ($i = 11; $i < 15; $i ++) {
        yield $i;
    }
}
$arr8 = [
    ...arrGen()
]; //[11, 12, 13, 14]
?>
--EXPECT--
PHP_TOKEN|<|ST_PHP_IN_SCRIPTING
PHP_TOKEN|?|ST_PHP_IN_SCRIPTING
PHP_LABEL|php|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$parts|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|[|ST_PHP_IN_SCRIPTING
WHITESPACE|
    |ST_PHP_IN_SCRIPTING
PHP_CONSTANT_ENCAPSED_STRING|'apple'|ST_PHP_IN_SCRIPTING
PHP_TOKEN|,|ST_PHP_IN_SCRIPTING
WHITESPACE|
    |ST_PHP_IN_SCRIPTING
PHP_CONSTANT_ENCAPSED_STRING|'pear'|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_TOKEN|]|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$fruits|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|[|ST_PHP_IN_SCRIPTING
WHITESPACE|
    |ST_PHP_IN_SCRIPTING
PHP_CONSTANT_ENCAPSED_STRING|'banana'|ST_PHP_IN_SCRIPTING
PHP_TOKEN|,|ST_PHP_IN_SCRIPTING
WHITESPACE|
    |ST_PHP_IN_SCRIPTING
PHP_CONSTANT_ENCAPSED_STRING|'orange'|ST_PHP_IN_SCRIPTING
PHP_TOKEN|,|ST_PHP_IN_SCRIPTING
WHITESPACE|
    |ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$parts|ST_PHP_IN_SCRIPTING
PHP_TOKEN|,|ST_PHP_IN_SCRIPTING
WHITESPACE|
    |ST_PHP_IN_SCRIPTING
PHP_CONSTANT_ENCAPSED_STRING|'watermelon'|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_TOKEN|]|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$arr1|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|[|ST_PHP_IN_SCRIPTING
WHITESPACE|
    |ST_PHP_IN_SCRIPTING
PHP_NUMBER|1|ST_PHP_IN_SCRIPTING
PHP_TOKEN|,|ST_PHP_IN_SCRIPTING
WHITESPACE|
    |ST_PHP_IN_SCRIPTING
PHP_NUMBER|2|ST_PHP_IN_SCRIPTING
PHP_TOKEN|,|ST_PHP_IN_SCRIPTING
WHITESPACE|
    |ST_PHP_IN_SCRIPTING
PHP_NUMBER|3|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_TOKEN|]|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$arr2|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|[|ST_PHP_IN_SCRIPTING
WHITESPACE|
    |ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$arr1|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_TOKEN|]|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_LINE_COMMENT|//|ST_PHP_LINE_COMMENT
PHP_LINE_COMMENT|[1, 2, 3]
|ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$arr3|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|[|ST_PHP_IN_SCRIPTING
WHITESPACE|
    |ST_PHP_IN_SCRIPTING
PHP_NUMBER|0|ST_PHP_IN_SCRIPTING
PHP_TOKEN|,|ST_PHP_IN_SCRIPTING
WHITESPACE|
    |ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$arr1|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_TOKEN|]|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_LINE_COMMENT|//|ST_PHP_LINE_COMMENT
PHP_LINE_COMMENT|[0, 1, 2, 3]
|ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$arr4|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_ARRAY|array|ST_PHP_IN_SCRIPTING
PHP_TOKEN|(|ST_PHP_IN_SCRIPTING
WHITESPACE|
    |ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$arr1|ST_PHP_IN_SCRIPTING
PHP_TOKEN|,|ST_PHP_IN_SCRIPTING
WHITESPACE|
    |ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$arr2|ST_PHP_IN_SCRIPTING
PHP_TOKEN|,|ST_PHP_IN_SCRIPTING
WHITESPACE|
    |ST_PHP_IN_SCRIPTING
PHP_NUMBER|111|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_TOKEN|)|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_LINE_COMMENT|//|ST_PHP_LINE_COMMENT
PHP_LINE_COMMENT|[1, 2, 3, 1, 2, 3, 111]
|ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$arr5|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|[|ST_PHP_IN_SCRIPTING
WHITESPACE|
    |ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$arr1|ST_PHP_IN_SCRIPTING
PHP_TOKEN|,|ST_PHP_IN_SCRIPTING
WHITESPACE|
    |ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$arr1|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_TOKEN|]|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_LINE_COMMENT|//|ST_PHP_LINE_COMMENT
PHP_LINE_COMMENT|[1, 2, 3, 1, 2, 3]
|ST_PHP_IN_SCRIPTING
PHP_FUNCTION|function|ST_PHP_IDENTIFIER
WHITESPACE| |ST_PHP_IDENTIFIER
PHP_LABEL|getArr|ST_PHP_IN_SCRIPTING
PHP_TOKEN|(|ST_PHP_IN_SCRIPTING
PHP_TOKEN|)|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_CURLY_OPEN|{
    |ST_PHP_IN_SCRIPTING
PHP_RETURN|return|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|[|ST_PHP_IN_SCRIPTING
WHITESPACE|
        |ST_PHP_IN_SCRIPTING
PHP_CONSTANT_ENCAPSED_STRING|'a'|ST_PHP_IN_SCRIPTING
PHP_TOKEN|,|ST_PHP_IN_SCRIPTING
WHITESPACE|
        |ST_PHP_IN_SCRIPTING
PHP_CONSTANT_ENCAPSED_STRING|'b'|ST_PHP_IN_SCRIPTING
WHITESPACE|
    |ST_PHP_IN_SCRIPTING
PHP_TOKEN|]|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_CURLY_CLOSE|}
|ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$arr6|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|[|ST_PHP_IN_SCRIPTING
WHITESPACE|
    |ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_LABEL|getArr|ST_PHP_IN_SCRIPTING
PHP_TOKEN|(|ST_PHP_IN_SCRIPTING
PHP_TOKEN|)|ST_PHP_IN_SCRIPTING
PHP_TOKEN|,|ST_PHP_IN_SCRIPTING
WHITESPACE|
    |ST_PHP_IN_SCRIPTING
PHP_CONSTANT_ENCAPSED_STRING|'c'|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_TOKEN|]|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_LINE_COMMENT|//|ST_PHP_LINE_COMMENT
PHP_LINE_COMMENT|['a', 'b', 'c']
|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$arr7|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|[|ST_PHP_IN_SCRIPTING
WHITESPACE|
    |ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_NEW|new|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_LABEL|ArrayIterator|ST_PHP_IN_SCRIPTING
PHP_TOKEN|(|ST_PHP_IN_SCRIPTING
PHP_TOKEN|[|ST_PHP_IN_SCRIPTING
WHITESPACE|
        |ST_PHP_IN_SCRIPTING
PHP_CONSTANT_ENCAPSED_STRING|'a'|ST_PHP_IN_SCRIPTING
PHP_TOKEN|,|ST_PHP_IN_SCRIPTING
WHITESPACE|
        |ST_PHP_IN_SCRIPTING
PHP_CONSTANT_ENCAPSED_STRING|'b'|ST_PHP_IN_SCRIPTING
PHP_TOKEN|,|ST_PHP_IN_SCRIPTING
WHITESPACE|
        |ST_PHP_IN_SCRIPTING
PHP_CONSTANT_ENCAPSED_STRING|'c'|ST_PHP_IN_SCRIPTING
WHITESPACE|
    |ST_PHP_IN_SCRIPTING
PHP_TOKEN|]|ST_PHP_IN_SCRIPTING
PHP_TOKEN|)|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_TOKEN|]|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_LINE_COMMENT|//|ST_PHP_LINE_COMMENT
PHP_LINE_COMMENT|['a', 'b', 'c']
|ST_PHP_IN_SCRIPTING
PHP_FUNCTION|function|ST_PHP_IDENTIFIER
WHITESPACE| |ST_PHP_IDENTIFIER
PHP_LABEL|arrGen|ST_PHP_IN_SCRIPTING
PHP_TOKEN|(|ST_PHP_IN_SCRIPTING
PHP_TOKEN|)|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_CURLY_OPEN|{
    |ST_PHP_IN_SCRIPTING
PHP_FOR|for|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|(|ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$i|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_NUMBER|11|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$i|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|<|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_NUMBER|15|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$i|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_OPERATOR|++|ST_PHP_IN_SCRIPTING
PHP_TOKEN|)|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_CURLY_OPEN|{
        |ST_PHP_IN_SCRIPTING
PHP_YIELD|yield|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$i|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE|
    |ST_PHP_IN_SCRIPTING
PHP_CURLY_CLOSE|}
|ST_PHP_IN_SCRIPTING
PHP_CURLY_CLOSE|}
|ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$arr8|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|[|ST_PHP_IN_SCRIPTING
WHITESPACE|
    |ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_TOKEN|.|ST_PHP_IN_SCRIPTING
PHP_LABEL|arrGen|ST_PHP_IN_SCRIPTING
PHP_TOKEN|(|ST_PHP_IN_SCRIPTING
PHP_TOKEN|)|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_TOKEN|]|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_LINE_COMMENT|//|ST_PHP_LINE_COMMENT
PHP_LINE_COMMENT|[11, 12, 13, 14]
|ST_PHP_IN_SCRIPTING
PHP_CLOSETAG|?>|ST_PHP_IN_SCRIPTING
