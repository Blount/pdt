--TEST--
Bug 551434 - false syntax error for Heredoc/Nowdoc expressions
--FILE--
<?php
class heredocDemo {
    
    const EXAMPLE_1 = <<< HEREDOC
Example string literal #1

-
HEREDOC;
    
    const EXAMPLE_2 = <<< HEREDOC
Example string literal #2

-
HEREDOC;
    
    const EXAMPLE_3 = <<< HEREDOC
Example string literal #3

=
HEREDOC;
    
    const EXAMPLE_4 = <<< HEREDOC
Example string literal #4

-
HEREDOC;
    
    const EXAMPLE_5 = <<< "HEREDOC"
Example string literal #5

-
HEREDOC;
    
    const EXAMPLE_6 = <<< 'NOWDOC'
Example string literal #6
    
-
NOWDOC;
    
    const EXAMPLE_7 = <<< HEREDOC
Example string literal #7
Another line with some content
Yet another line with some content
Another
    
-
HEREDOC;
    
    const EXAMPLE_8 = <<< HEREDOC
Example string literal #8

- Content after the special char
HEREDOC;
    
    public $example9 = <<< HEREDOC
Example string literal #9

-
HEREDOC;
    
    public function __construct() {
        
        $example10 = <<< HEREDOC
Example string literal #10

-
HEREDOC;
        
        var_dump(
            <<< HEREDOC
Example string literal #11
            
-
HEREDOC
            );
        
        <<< HEREDOC
Example string literal

-
HEREDOC  && 1;
    }
}
?>
--EXPECT--
PHP_TOKEN|<|ST_PHP_IN_SCRIPTING
PHP_TOKEN|?|ST_PHP_IN_SCRIPTING
PHP_LABEL|php|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_CLASS|class|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_LABEL|heredocDemo|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_CURLY_OPEN|{
    
    |ST_PHP_IN_SCRIPTING
PHP_CONST|const|ST_PHP_IDENTIFIER
WHITESPACE| |ST_PHP_IDENTIFIER
PHP_LABEL|EXAMPLE_1|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_HEREDOC_START_TAG|<<< HEREDOC
|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE|Example|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| string|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| literal|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| #1
-|ST_PHP_END_HEREDOC
PHP_HEREDOC_CLOSE_TAG|
HEREDOC|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE|
    
    |ST_PHP_IN_SCRIPTING
PHP_CONST|const|ST_PHP_IDENTIFIER
WHITESPACE| |ST_PHP_IDENTIFIER
PHP_LABEL|EXAMPLE_2|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_HEREDOC_START_TAG|<<< HEREDOC
|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE|Example|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| string|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| literal|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| #2
-|ST_PHP_END_HEREDOC
PHP_HEREDOC_CLOSE_TAG|
HEREDOC|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE|
    
    |ST_PHP_IN_SCRIPTING
PHP_CONST|const|ST_PHP_IDENTIFIER
WHITESPACE| |ST_PHP_IDENTIFIER
PHP_LABEL|EXAMPLE_3|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_HEREDOC_START_TAG|<<< HEREDOC
|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE|Example|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| string|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| literal|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| #3
=|ST_PHP_END_HEREDOC
PHP_HEREDOC_CLOSE_TAG|
HEREDOC|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE|
    
    |ST_PHP_IN_SCRIPTING
PHP_CONST|const|ST_PHP_IDENTIFIER
WHITESPACE| |ST_PHP_IDENTIFIER
PHP_LABEL|EXAMPLE_4|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_HEREDOC_START_TAG|<<< HEREDOC
|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE|Example|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| string|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| literal|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| #4
-|ST_PHP_END_HEREDOC
PHP_HEREDOC_CLOSE_TAG|
HEREDOC|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE|
    
    |ST_PHP_IN_SCRIPTING
PHP_CONST|const|ST_PHP_IDENTIFIER
WHITESPACE| |ST_PHP_IDENTIFIER
PHP_LABEL|EXAMPLE_5|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_HEREDOC_START_TAG|<<< "HEREDOC"
|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE|Example|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| string|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| literal|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| #5
-|ST_PHP_END_HEREDOC
PHP_HEREDOC_CLOSE_TAG|
HEREDOC|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE|
    
    |ST_PHP_IN_SCRIPTING
PHP_CONST|const|ST_PHP_IDENTIFIER
WHITESPACE| |ST_PHP_IDENTIFIER
PHP_LABEL|EXAMPLE_6|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_NOWDOC_START_TAG|<<< 'NOWDOC'
|ST_PHP_START_NOWDOC
PHP_CONSTANT_ENCAPSED_STRING|Example|ST_PHP_START_NOWDOC
PHP_CONSTANT_ENCAPSED_STRING| string|ST_PHP_START_NOWDOC
PHP_CONSTANT_ENCAPSED_STRING| literal|ST_PHP_START_NOWDOC
PHP_CONSTANT_ENCAPSED_STRING| #6
    
-|ST_PHP_END_NOWDOC
PHP_NOWDOC_CLOSE_TAG|
NOWDOC|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE|
    
    |ST_PHP_IN_SCRIPTING
PHP_CONST|const|ST_PHP_IDENTIFIER
WHITESPACE| |ST_PHP_IDENTIFIER
PHP_LABEL|EXAMPLE_7|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_HEREDOC_START_TAG|<<< HEREDOC
|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE|Example|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| string|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| literal|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| #7
Another|ST_PHP_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| line with some content
Yet|ST_PHP_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| another line with some content
Another|ST_PHP_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE|
    
-|ST_PHP_END_HEREDOC
PHP_HEREDOC_CLOSE_TAG|
HEREDOC|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE|
    
    |ST_PHP_IN_SCRIPTING
PHP_CONST|const|ST_PHP_IDENTIFIER
WHITESPACE| |ST_PHP_IDENTIFIER
PHP_LABEL|EXAMPLE_8|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_HEREDOC_START_TAG|<<< HEREDOC
|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE|Example|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| string|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| literal|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| #8
- Content after the special char|ST_PHP_END_HEREDOC
PHP_HEREDOC_CLOSE_TAG|
HEREDOC|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE|
    
    |ST_PHP_IN_SCRIPTING
PHP_PUBLIC|public|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$example9|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_HEREDOC_START_TAG|<<< HEREDOC
|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE|Example|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| string|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| literal|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| #9
-|ST_PHP_END_HEREDOC
PHP_HEREDOC_CLOSE_TAG|
HEREDOC|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE|
    
    |ST_PHP_IN_SCRIPTING
PHP_PUBLIC|public|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_FUNCTION|function|ST_PHP_IDENTIFIER
WHITESPACE| |ST_PHP_IDENTIFIER
PHP_LABEL|__construct|ST_PHP_IN_SCRIPTING
PHP_TOKEN|(|ST_PHP_IN_SCRIPTING
PHP_TOKEN|)|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_CURLY_OPEN|{
        
        |ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$example10|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_HEREDOC_START_TAG|<<< HEREDOC
|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE|Example|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| string|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| literal|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| #10
-|ST_PHP_END_HEREDOC
PHP_HEREDOC_CLOSE_TAG|
HEREDOC|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE|
        
        |ST_PHP_IN_SCRIPTING
PHP_LABEL|var_dump|ST_PHP_IN_SCRIPTING
PHP_TOKEN|(|ST_PHP_IN_SCRIPTING
WHITESPACE|
            |ST_PHP_IN_SCRIPTING
PHP_HEREDOC_START_TAG|<<< HEREDOC
|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE|Example|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| string|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| literal|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| #11
            
-|ST_PHP_END_HEREDOC
PHP_HEREDOC_CLOSE_TAG|
HEREDOC|ST_PHP_IN_SCRIPTING
WHITESPACE|
            |ST_PHP_IN_SCRIPTING
PHP_TOKEN|)|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE|
        
        |ST_PHP_IN_SCRIPTING
PHP_HEREDOC_START_TAG|<<< HEREDOC
|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE|Example|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| string|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE| literal|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE|
-|ST_PHP_END_HEREDOC
PHP_HEREDOC_CLOSE_TAG|
HEREDOC|ST_PHP_IN_SCRIPTING
WHITESPACE|  |ST_PHP_IN_SCRIPTING
PHP_OPERATOR|&&|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_NUMBER|1|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE|
    |ST_PHP_IN_SCRIPTING
PHP_CURLY_CLOSE|}
|ST_PHP_IN_SCRIPTING
PHP_CURLY_CLOSE|}
|ST_PHP_IN_SCRIPTING
PHP_CLOSETAG|?>|ST_PHP_IN_SCRIPTING
