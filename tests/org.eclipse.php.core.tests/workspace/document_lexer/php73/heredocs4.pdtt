--TEST--
Bug 540647 - better detection of heredoc and nowdoc marker names
--FILE--
<?php
$a = <<< AAAA
    test
    BAAAA;
    AAAA;

$a = <<< AAAA
    AAAA;
    
    $a = <<< 'AAAA'
    test
    BAAAA;
    AAAA;

$a = <<< 'AAAA'
    AAAA;

$a = <<< "AAAA"
    test
    BAAAA;
    AAAA;

$a = <<< "AAAA"
    AAAA;
?>
--EXPECT--
PHP_TOKEN|<|ST_PHP_IN_SCRIPTING
PHP_TOKEN|?|ST_PHP_IN_SCRIPTING
PHP_LABEL|php|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$a|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_HEREDOC_START_TAG|<<< AAAA
|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE|    test|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE|
    BAAAA|ST_PHP_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE|;|ST_PHP_END_HEREDOC
PHP_HEREDOC_CLOSE_TAG|
    AAAA|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$a|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_HEREDOC_START_TAG|<<< AAAA
|ST_PHP_START_HEREDOC
PHP_HEREDOC_CLOSE_TAG|    AAAA|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE|
    
    |ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$a|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_NOWDOC_START_TAG|<<< 'AAAA'
|ST_PHP_START_NOWDOC
PHP_CONSTANT_ENCAPSED_STRING|    test|ST_PHP_START_NOWDOC
PHP_CONSTANT_ENCAPSED_STRING|
    BAAAA|ST_PHP_NOWDOC
PHP_CONSTANT_ENCAPSED_STRING|;|ST_PHP_END_NOWDOC
PHP_NOWDOC_CLOSE_TAG|
    AAAA|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$a|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_NOWDOC_START_TAG|<<< 'AAAA'
|ST_PHP_START_NOWDOC
PHP_NOWDOC_CLOSE_TAG|    AAAA|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$a|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_HEREDOC_START_TAG|<<< "AAAA"
|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE|    test|ST_PHP_START_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE|
    BAAAA|ST_PHP_HEREDOC
PHP_ENCAPSED_AND_WHITESPACE|;|ST_PHP_END_HEREDOC
PHP_HEREDOC_CLOSE_TAG|
    AAAA|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_VARIABLE|$a|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_TOKEN|=|ST_PHP_IN_SCRIPTING
WHITESPACE| |ST_PHP_IN_SCRIPTING
PHP_HEREDOC_START_TAG|<<< "AAAA"
|ST_PHP_START_HEREDOC
PHP_HEREDOC_CLOSE_TAG|    AAAA|ST_PHP_IN_SCRIPTING
PHP_SEMICOLON|;|ST_PHP_IN_SCRIPTING
WHITESPACE|
|ST_PHP_IN_SCRIPTING
PHP_CLOSETAG|?>|ST_PHP_IN_SCRIPTING
